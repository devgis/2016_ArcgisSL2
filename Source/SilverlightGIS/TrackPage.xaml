<cs:ChildWindow  x:Class="TrackPlayback.TrackPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              xmlns:cs="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:esri="http://schemas.esri.com/arcgis/client/2009"
    mc:Ignorable="d"
    d:DesignHeight="600" d:DesignWidth="800">

    <Grid x:Name="LayoutRoot" Background="White">
        <Grid.Resources>
            <esri:SimpleRenderer x:Key="StopRenderer">
                <esri:SimpleRenderer.Symbol>
                    <esri:SimpleMarkerSymbol Size="20" Style="Circle" Color="Green" />
                </esri:SimpleRenderer.Symbol>
            </esri:SimpleRenderer>

            <esri:SimpleRenderer x:Key="RouteRenderer">
                <esri:SimpleRenderer.Symbol>
                    <esri:SimpleLineSymbol Color="#990000FF" Width="5"/>
                </esri:SimpleRenderer.Symbol>
            </esri:SimpleRenderer>

            <esri:RouteTask x:Name="MyRouteTask"
                            Url="http://sampleserver6.arcgisonline.com/arcgis/rest/services/NetworkAnalysis/SanDiego/NAServer/Route"			
				            SolveCompleted="MyRouteTask_SolveCompleted"
                            Failed="MyRouteTask_Failed" />
        </Grid.Resources>

        <esri:Map x:Name="MyMap" Background="White" Extent="-13043074.473,3856628.055,-13040628.488,3857689.246" WrapAround="True"
				  MouseClick="MyMap_MouseClick_1">

            <esri:ArcGISTiledMapServiceLayer
                      Url="http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"/>

            <esri:GraphicsLayer ID="MyStopsGraphicsLayer" 
                                Renderer="{StaticResource StopRenderer}" />

            <esri:GraphicsLayer ID="MyRouteGraphicsLayer"
                                Renderer="{StaticResource RouteRenderer}" />

            <esri:ElementLayer ID="MoveCarLayer"/>

        </esri:Map>
        <Border Width="Auto" HorizontalAlignment="Right" Background="White" VerticalAlignment="Top" Margin="10" 
                BorderBrush="Black" BorderThickness="1">
            <StackPanel Orientation="Vertical" HorizontalAlignment="Left">
                <TextBlock Margin="3" FontSize="16" >
                    <Run>Total time:</Run>
                    <Run x:Name="TotalTimeTextBlock" >0</Run>
                    <Run>mins</Run>
                </TextBlock>
                <TextBlock Margin="3,0,3,3" FontSize="16">
                    <Run>Total distance:</Run>
                    <Run x:Name="TotalDistanceTextBlock" >0</Run>
                    <Run>mi</Run>
                </TextBlock>
                <Button x:Name="playback" Content="轨迹回放" Width="60" HorizontalAlignment="Left" Click="playback_Click_1"></Button>
            </StackPanel>
        </Border>

    </Grid>
</cs:ChildWindow>
